<link rel="stylesheet" href="/static/css/juego.css" type="text/css">
<!DOCTYPE html>
<html><!-- este es un comentario -->
	<head>
		<title></title>
		<style type="text/css">
		#canvas {
			border: 1px solid black
		}
		</style>
	</head>
	<body style="background: url(../gif.gif);">
	<div class="links">

		<a href="/inicio_sesión" >Cerrar sesión</a>
		<a href="/inicio_sesión" >Cerrar sesión</a>
		<a href="/inicio_sesión" >Cerrar sesión</a>
		<a class="text">Duver</a>
	
	</div>
	<div class="canvas_lugar">
		
		<canvas class="canvas"  id="canvas" width="1344" height="544"></canvas>
		<script type="text/javascript">

			let canvas = document.getElementById("canvas")
			let contexto = canvas.getContext("2d")

			let mapa = new Image();
			let muñeco = new Image();
			let conejo = new Image();

			mapa.src = "../static/mapa1_.png"
			muñeco.src = "muñeco.jpg"
			conejo.src = "../static/conejo.png"

			let x = 288
			let y = 512
			let matriz1 = [
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,9,1,9,0,0,0,0,0,9,2,9,0,0,0,0,0,9,3,9,0,0,0,0,0,9,4,9,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,'s3'],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,0,0,9,0,0,9,0,0,0,0,0,9],
			[9,0,0,0,9,0,0,0,0,0,0,0,0,0,9,9,5,9,9,0,0,0,9,9,6,9,9,0,0,0,0,9,9,9,9,9,9,0,0,0,0,9],
			[9,0,0,0,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,9,9,9,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9,0,0,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
			]

			let matriz2 = [
			[9,9,9,9,9,'s1',9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,9,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,9,9],
			[9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,9,9],
			[9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,7,9,0,0,0,0,0,0,0,0,0,0,0,0,9,6,9,0,0,0,0,0,0,0,0,9,9],
			[9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,9,0,0,0,0,0,0,0,0,9,9],
			[9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,9,0,0,0,0,0,0,0,9,9,9],
			[9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,'s2'],
			[9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9],
			[9,9,0,0,0,0,0,0,9,0,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,9,0,9,0,0,0,0,0,0,9,9],
			[9,9,0,0,0,0,0,0,9,'9',9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,9,8,9,0,0,0,0,0,0,9,9],
			[9,9,0,9,9,0,0,0,9,9,9,0,0,0,0,9,0,0,9,0,0,9,0,9,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9,9],
			[9,9,0,9,9,0,0,0,9,9,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9,9],
			[9,9,0,0,0,0,0,0,9,9,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			]

			let matriz3 = [
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
			]

			let matriz = matriz1
			let fila = 16
			let columna = 9


			contexto.fillStyle = "blue"

			function pintar(){
				contexto.clearRect(0,0,1344,544)
				contexto.drawImage(mapa,0,0,1344,544)
				contexto.drawImage(conejo,x,y,32,32)
			}



			document.onkeypress = presionar

			function presionar(event) {
				const tecla = event.key;
				if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 0)){
					y -= 32
					fila -= 1

				}
				else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 1)){
					    y -= 32
						fila -= 1
				}
				else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 2)){
					y -= 32
					fila -= 1
					alert('Este edificio corresponde a 2 Grado')

				}
				else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 3)){
					y -= 32
					fila -= 1
					alert('Este edificio corresponde a 3 Grado')

				}
				else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 4)){
					y -= 32
					fila -= 1
					alert('Este edificio corresponde a 4 Grado')
				}
				else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 's1')){
					fila = 16
					x = 192
					y = 512
					mapa.src = "../static/mapa3_.png"
					matriz = matriz3

				}
				else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 0)){
					y += 32
					fila += 1
				}
				else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 5)){
					y += 32
					fila += 1
					alert('Este edificio corresponde a 5 Grado')
				}
				else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 6)){
					y += 32
					fila += 1
					alert('Este edificio corresponde a 6 Grado')
				}
				else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 7)){
					y += 32
					fila += 1
					alert('Este edificio corresponde a 7 Grado')
				}
				else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 8)){
					y += 32
					fila += 1
					alert('Este edificio corresponde a 8 Grado')
				}
				else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 0)){
					x -= 32
					columna -=1
				}
				else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===0)){
					x += 32
					columna +=1
				}

				else if ((tecla === 'd')&&(matriz[fila][(columna)+1]==='s3')){
					x += 32
					columna +=1
					mapa.src = "../static/mapa2_.png"
					matriz = matriz2
				}
				else if ((tecla === 'd')&&(matriz[fila][(columna)+1]==='s2')){
					x += 32
					columna +=1
					mapa.src = "../static/mapa1_.png"
					matriz = matriz1
				}
			}

			setInterval(pintar,32)




		</script>


	</div>
	</body>
</html>