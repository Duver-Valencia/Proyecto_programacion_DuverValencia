<link rel="stylesheet" href="/static/css/juego.css" type="text/css"> <!-- Hago referencia a un archivo css --> 
<!DOCTYPE html>
<html> <!-- Documento del funcionamiento del juego --> 
	<head>

		<script>
		window.variablesJuego = {
			grado: {{grado}},
			mapagral : {{ mapa | safe }},
			preguntas : {{ preguntas | safe}}
		}

		var grado1 = 0
		</script> 

		<link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
         rel = "stylesheet"> <!-- Importo jquery --> 
      	<script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
      	<script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
		<title>Juego</title>
		<style type="text/css">
		#canvas {
			border: 1px solid black
		}
		</style>
	</head>
	<body style="background:#0FBEB3;">
	<div class="links">
		 <!--___________ Empieza la barra de botones ___________--> 
		<a href="/logout" >Cerrar sesión</a>
		<a class="text">Usuario: {{nombre}}</a>
		<a >Guardar</a>
		<a href="/saludo" nombre= nombre>Datos</a>
		<a href="" class="var">Vidas:</a><span id="vidas" >{{vida}}</span>
		<a href="" class="var">Grado:</a><span id="grado">{{grado}}</span>
		 <!--___________ Termina la barra de botones ___________--> 
	
	</div>
	<div class="canvas_lugar">
		
		<canvas class="canvas"  id="canvas" width="1344" height="544"></canvas>
		<!--___________ Empieza el documento script ___________--> 
		<script type="text/javascript">

			let canvas = document.getElementById("canvas")
			let contexto = canvas.getContext("2d")
			let vidas = document.getElementById('vidas').innerHTML /*__Variable para contar las vidas__*/
			let grado = document.getElementById('grado').innerHTML /*__Variable para contar las vidas__*/

			let mapa = new Image(); /*__Variable para la imagen del mapa__*/
			let conejo = new Image();  /*__Variable para la imagen del jugador__*/

			mapa.src = "../static/mapa_juego_1.png"  /*__Establesco imagen del mapa__*/
			conejo.src = "../static/conejo.png"   /*__Establesco imagen del jugador__*/

			let x = 288  /*__Variable para el movimiento en x del jugador__*/
			let y = 512  /*__Variable para el movimiento en y del jugador__*/

			/*_________________________ Matriz para el primer mundo ______________________________-*/
			/*
			let matriz1 = [
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,9,1,9,0,0,0,0,0,9,2,9,0,0,0,0,0,9,3,9,0,0,0,0,0,9,4,9,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,0,0,0,0,9,9,0,9,9,0,0,0,9,9,0,9,9,0,0,0,0,0,9,0,0,9,0,0,0,0,0,9],
			[9,0,0,0,9,0,0,0,0,0,0,0,0,0,9,9,5,9,9,0,0,0,9,9,6,9,9,0,0,0,0,9,9,9,9,9,9,0,0,0,0,9],
			[9,0,0,0,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,9,9,9,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9,0,0,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
			]
			*/
			let matriz1 = window.variablesJuego.mapagral

			/*_________________________ Matriz para el segundo mundo ______________________________-*/

			let matriz2 = [
			[9,9,9,9,9,23,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,0,0,0,9,0,9,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,9,0,0,0,9,9,9,0,0,0,9,0,0,0,9,0,0,0,0,9,9,9,0,0,0,0,9,0,0,0,0,9],
			[9,0,0,9,9,0,0,0,0,9,9,9,0,0,9,9,9,0,0,9,9,9,0,9,9,9,0,0,0,9,9,9,0,0,0,9,9,9,0,0,0,9],
			[9,0,0,9,9,0,0,0,0,9,9,9,0,0,9,8,9,0,0,9,9,9,9,9,9,9,0,0,0,9,7,9,0,0,0,9,9,9,0,0,0,9],
			[9,0,0,9,9,0,0,0,0,0,9,0,0,0,9,0,9,0,0,0,9,0,9,0,9,0,0,0,0,9,0,9,0,0,0,0,9,0,0,0,0,9],
			[9,0,0,9,9,0,0,0,0,0,0,0,0,0,9,0,9,0,0,0,0,0,0,0,0,0,0,0,0,9,0,9,0,0,0,0,0,0,0,0,9,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,9,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,9,0,0,0,0,0,0,0,9],
			[9,9,0,0,0,0,0,0,9,29,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,9,0,0,9,28,9,0,0,0,0,0,0,0,9],
			[9,9,9,9,0,0,0,0,9,9,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,9,9,9,0,9,9,9,0,0,0,0,9,9,9,9],
			[9,9,9,9,0,0,0,0,9,9,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,9,9,9,0,9,9,9,0,0,0,0,9,9,9,9],
			[9,9,9,9,0,0,0,0,9,9,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,9,0,0,9,9,9,0,0,0,0,9,9,9,9],
			[9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			]

			/*_________________________ Matriz para el tercer mundo ______________________________-*/

			let matriz3 = [
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,0,0,9,9,9,9,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,9],
			[9,0,9,9,9,9,9,9,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9],
			[9,0,9,9,9,9,9,9,0,0,0,9,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9],
			[9,0,0,9,9,9,9,0,0,0,9,9,9,9,9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,9,0,0,0,0,0,9],
			[9,0,0,9,9,9,0,0,0,0,9,9,10,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,11,9,9,0,0,0,0,0,9],
			[9,0,0,0,9,0,0,0,0,0,9,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,9,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,0,0,0,0,0,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,9,0,0,0,0,0,0,9,0,0,0,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,9,9,9,9,32,32,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
			]

			/*____________________Matriz para el interior del primer mundo______________________-*/

			let matriz4 = [
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,9,9,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,9,9,0,0,0,9],
			[9,0,0,0,9,9,9,9,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,9,9,9,0,0,9,0,0,0,9,9,9,0,0,9,9,9,0,0,0,0,9,0,0,0,9,9,9,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9,9,9,0,0,9,9,9,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9,9,9,0,0,9,9,9,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,9],
			[9,0,0,0,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,0,0,0,9],
			[9,0,0,0,9,9,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,9,9,0,0,0,9],
			[9,0,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,1,1,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
			]

			/*____________________Matriz para el interior del segundo mundo______________________-*/

			let matriz5 = [
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,9,9,0,0,9,0,0,9],
			[9,0,0,0,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,9,9,9,0,9,9,9,0,9],
			[9,0,0,0,9,9,9,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,9,9,9,9,0,9,9,9,0,9],
			[9,0,0,0,9,9,9,9,0,0,9,0,0,9,9,9,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9,0,0,0,0,0,0,0,9,0,9,9,9,9,9,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,9,9,9,9,0,0,0,0,0,9],
			[9,0,0,0,9,9,9,9,0,0,0,0,0,0,9,0,0,0,9,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,9,0,0,9],
			[9,0,0,0,9,9,9,0,0,0,0,0,0,0,9,0,0,0,9,0,0,9,0,0,0,9,9,9,0,0,0,0,9,9,9,9,0,9,9,9,0,9],
			[9,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,9,0,0,0,0,9,0,0,0,0,0,0,9,9,9,0,9,9,9,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,0,0,9,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,22,22,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
			]

			/*____________________Matriz para el interior del tercer mundo______________________-*/

			let matriz6 = [
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9],
			[9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9],
			[9,0,0,0,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,0,0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,9],
			[9,0,0,0,9,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,9,9,9,9,9,9,9,9,9,9,9,0,9,0,0,0,0,0,0,0,0,9,0,9,9,9,9,9,9,9,9,9,9,9,0,0,0,9],
			[9,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,9],
			[9,0,0,0,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,0,0,0,9],
			[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,0,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9],
			[9,0,0,0,9,9,9,9,0,0,0,0,0,0,0,0,0,0,9,9,0,0,9,9,0,0,0,0,0,0,0,0,0,0,9,9,9,9,0,0,0,9],
			[9,0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
			[9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9],
			[9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9],
			[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,33,33,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
			]

			let matriz = matriz1 /* Varible para la matriz que se está manejando */
			let fila = 16 /* Varible para la fila actual del jugador en la matriz que se está manejando */
			let columna = 9 /* Varible para la columna actual del jugador en la matriz que se está manejando */


			contexto.fillStyle = "blue"

			function pintar(){/* Funcion que reestablece la posicion del jugador y las actualizaciones
			de la pagina */
				contexto.clearRect(0,0,1344,544) /* Pintar cuadro para dibujar */
				contexto.drawImage(mapa,0,0,1344,544) /* Pintar el mapa */
				contexto.drawImage(conejo,x,y,32,32) /* Pintar el jugador */
				$('#vidas').text(vidas) /* Actualizar las vidas */
				$('#grado').text(grado) /* Actualizar el grado */

			}



			document.onkeypress = presionar /* Establesco forma en la que se manejara los movimientos
			del jugador por el mapa */

			function disminuirVidas() {
				/* Esta funcion se encarga de disminuir la cantidad de vidas del jugador */
				vidas = parseInt(vidas) - 1
				vidas = vidas.toString()
			}

			function aumentarGrado() {
				/* Esta funcion se encarga de disminuir la cantidad de vidas del jugador */
				grado = parseInt(grado) + 1
				grado = grado.toString()
			}

			function Grado1() {
				/* Esta funcion se encarga de disminuir la cantidad de vidas del jugador */
				grado1 = parseInt(0) + 1
				grado1 = grado1.toString()
			}

			function Grado2() {
				/* Esta funcion se encarga de disminuir la cantidad de vidas del jugador */
				grado1 = parseInt(0) + 2
				grado1 = grado1.toString()
			}



			function presionar(event) {
				/* Esta función se encarga de verificar que movimiento hace el jugador  */
				const tecla = event.key;
				if ((matriz) === (matriz1)){ /* Movimientos del jugador en la primera matriz */

					if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 0)){
					y -= 32
					fila -= 1
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 0)){
					y += 32
					fila += 1
					}

					else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 0)){
					x -= 32
					columna -=1
					}

					else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===0)){
					x += 32
					columna +=1
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 1)&&(window.variablesJuego.grado == 1)){
						console.log(window.variablesJuego.grado)
						Grado1()
						var r = confirm("¿Ingresar a grado1?");
						if (r == true) {
							x = 608
							y = 512
							columna = 19
							fila = 16
							mapa.src = "../static/edificio_1_verde.png"
							matriz = matriz4
    						
						} else {
							alert('No entras')
						}
						console.log('Grado 0')
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 2)&&(window.variablesJuego.gradoo == 2)){
						
						x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_1_rojo.png"
						matriz = matriz4
						console.log('Grado 1')
					}
					/*
					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 2)&&(window.variablesJuego.gradoo != 2)){
						alert('Este edificio corresponde a el grado 2 y usted se encuentra cursando el grado'+''+window.variablesJuego.grado)
					}
					*/
					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 3)){
						x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_1_amarillo.png"
						matriz = matriz4
						console.log('Grado 2')
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 4)){
						x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_1_azul.png"
						matriz = matriz4
						console.log('Grado 3')
					}

					else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===12)){
					x += 32
					columna +=1
					mapa.src = "../static/Mapa_juego_2.png"
					matriz = matriz2
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 6)){
						x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_1_rojo.png"
						matriz = matriz4
						console.log('Grado 5')
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 5)){
						x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_1_amarillo.png"
						matriz = matriz4
						console.log('Grado 4')
					}

				}


				else if ((matriz) === (matriz2)){
					/* Movimientos del jugador en la segunda matriz */
					if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 0)){
					y -= 32
					fila -= 1
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 0)){
					y += 32
					fila += 1
					}

					else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 0)){
					x -= 32
					columna -=1
					}

					else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===0)){
					x += 32
					columna +=1
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 7)){
						x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_2_azul.png"
						matriz = matriz5
						console.log('Grado 6')
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 8)){
						x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_2_verde.png"
						matriz = matriz5
						console.log('Grado 7')
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 28)){
					x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_2_amarillo.png"
						matriz = matriz5
						console.log('Grado 8')
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 29)){
					x = 608
						y = 512
						columna = 19
						fila = 16
						mapa.src = "../static/edificio_2_rojo.png"
						matriz = matriz5
						console.log('Grado 9')
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 23)){
					fila = 16
					x = 160
					y = 512
					mapa.src = "../static/mapa_juego3.png"
					matriz = matriz3

					}

					else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===21)){
					x += 32
					columna +=1
					mapa.src = "../static/mapa_juego_1.png"
					matriz = matriz1
					}

				}


				else if ((matriz) === (matriz3)){
					/* Movimientos del jugador en la tercera matriz */
					if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 0)){
					y -= 32
					fila -= 1
					}


					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 0)){
					y += 32
					fila += 1
					}

					else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 0)){
					x -= 32
					columna -=1
					}

					else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===0)){
					x += 32
					columna +=1
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 32)){
					x = 160
					y = 0
					columna = 5
					fila = 0
					mapa.src = "../static/Mapa_juego_2.png"
					matriz = matriz2
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 10)){
					x = 640
					y = 512
					fila = 16
					columna = 20

					mapa.src = "../static/edificio_3_azul.png"
					matriz = matriz6
					console.log('Grado 10')
					}

					else if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 11)){
					x = 640
					y = 512
					fila = 16
					columna = 20

					mapa.src = "../static/edificio_3_rojo.png"
					matriz = matriz6
					console.log('Grado 11')
					}
				
				
				}


				else if ((matriz) === (matriz4)){
					/* Movimientos del jugador en la cuarta matriz */
					if ((grado1) == 1){

						if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 0)){
							y -= 32
							fila -= 1
						}

						else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 0)){
							y += 32
							fila += 1
						}

						else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 0)){
							x -= 32
							columna -=1
						}

						else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 1)){
							x -= 32
							columna -=1
							preguntas = (window.variablesJuego.preguntas)
							for (i in (preguntas)){
								if (preguntas[i]['materia']== ('Español')){
									console.log('_______________________________')
									console.log(preguntas[i]['materia'])
									for (m in preguntas[i]['preguntas']){
										console.log(preguntas[i]['preguntas'][m])
									}
								}
							}
						}

						else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 2)){
							x -= 32
							columna -=1
							preguntas = (window.variablesJuego.preguntas)
							for (i in (preguntas)){
								if (preguntas[i]['materia']== ('Matematicas')){
									console.log('_______________________________')
									console.log(preguntas[i]['materia'])
									for (m in preguntas[i]['preguntas']){
										console.log(preguntas[i]['preguntas'][m])
									}
								}

							}
						}

						else if ((tecla === 'd')&&(matriz[fila][(columna)+1] === 3)){
							x += 32
							columna +=1
							preguntas = (window.variablesJuego.preguntas)
							for (i in (preguntas)){
								if (preguntas[i]['materia']== ('Artistica')){
									console.log('_______________________________')
									console.log(preguntas[i]['materia'])
									for (m in preguntas[i]['preguntas']){
										console.log(preguntas[i]['preguntas'][m])
									}
								}

							}
						}

						else if ((tecla === 'd')&&(matriz[fila][(columna)+1] === 4)){
							x += 32
							columna +=1
							preguntas = (window.variablesJuego.preguntas)
							for (i in (preguntas)){
								if (preguntas[i]['materia']== ('Etica')){
									console.log('_______________________________')
									console.log(preguntas[i]['materia'])
									for (m in preguntas[i]['preguntas']){
										console.log(preguntas[i]['preguntas'][m])
									}
								}

							}
						}
						

						else if ((tecla === 'd')&&(matriz[fila][(columna)+1] === 0)){
							x += 32
							columna +=1
						}

						else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 1)){
							x = 288
							y = 512
							columna = 9
							fila = 16
							mapa.src = "../static/mapa_juego_1.png"
							matriz = matriz1
					}

					}
					

				}




				else if ((matriz) === (matriz5)){
					/* Movimientos del jugador en la quinta matriz */
					if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 0)){
					y -= 32
					fila -= 1
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 0)){
					y += 32
					fila += 1
					}

					else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 0)){
					x -= 32
					columna -=1
					}

					else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===0)){
					x += 32
					columna +=1
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 22)){
						x = 1312
						y = 256
						columna = 41
						fila = 8
						mapa.src = "../static/Mapa_juego_2.png"
						matriz = matriz2
					}

				}



				else if ((matriz) === (matriz6)){
					/* Movimientos del jugador en la sexta matriz */

					if ((tecla === 'w')&&(matriz[(fila)-1][columna] === 0)){
					y -= 32
					fila -= 1
					}


					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 0)){
					y += 32
					fila += 1
					}

					else if ((tecla === 'a')&&(matriz[fila][(columna)-1] === 0)){
					x -= 32
					columna -=1
					}

					else if ((tecla === 'd')&&(matriz[fila][(columna)+1]===0)){
					x += 32
					columna +=1
					}

					else if ((tecla === 's')&&(matriz[(fila)+1][columna] === 33)){
					fila = 16
					columna = 5
					x = 160
					y = 512
					mapa.src = "../static/mapa_juego3.png"
					matriz = matriz3

					}

					
				}

				
				

				
				
			}

			setInterval(pintar,32)




		</script>

	</div>
	</body>
</html>

<!--___ Fin del documento del juego ___-->